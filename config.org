* Lawrence Logoh's emacs config                                   :noexport:
* Contents                                                        :TOC:
- [[#quality-of-life][Quality of life]]
- [[#install-packages][Install Packages]]
- [[#productivity]["Productivity"]]
- [[#writing][Writing]]
- [[#programming][Programming]]
- [[#custom-functions][Custom Functions]]
- [[#global-keybindings][Global Keybindings]]

* Quality of life
#+begin_src emacs-lisp
(setq inhibit-startup-message t
      ring-bell-function 'ignore
      initial-scratch-message (message ";;; Emacs loaded in %s.\n\n" (emacs-init-time))
      scroll-conservatively most-positive-fixnum
      org-startup-folded t)

(tool-bar-mode -1)
(menu-bar-mode -1)
(scroll-bar-mode -1)
(pixel-scroll-precision-mode t)
(global-auto-revert-mode 1)

;; dired
(put 'dired-find-alternate-file 'disabled nil)
(add-hook 'dired-mode-hook 'dired-hide-details-mode)

;; font
(add-to-list 'default-frame-alist
	       '(font . "Hack-14"))
;; theme
(custom-set-faces
 `(fringe ((t (:background unspecified)))))

(load-theme 'modus-vivendi)
#+end_src
* Install Packages
#+begin_src emacs-lisp
(require 'package)
(add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/"))
(require 'use-package-ensure)
(setq use-package-always-ensure t)

(use-package magit)
(use-package reformatter)
(use-package markdown-mode)
(use-package olivetti)
(use-package toc-org)
(use-package org-tree-slide)
(use-package htmlize)
(use-package emmet-mode)
(use-package ledger-mode)

#+end_src

* "Productivity"
#+begin_src emacs-lisp
    (setq org-todo-keywords
	  '((sequence "TODO" "DOING" "WAITING" "|" "DONE" )))

    (setq org-todo-keyword-faces
	  '(("TODO" . "#a4202a")
	    ("DOING" . org-warning)
	    ("WAITING" . "#dbbe5f")
	    ))
  ;; Colors are from https://protesilaos.com/emacs/modus-themes-colors

  ;; Capture

  (setq org-default-notes-file (concat org-directory "~/lms/in.org"))

  (setq org-capture-templates
	'(("p" "personal action" entry (file+headline "~/lms/actions.org" "Personal")
	   "*** TODO %?\n  %i\n")
	  ("w" "work action" entry (file+headline "~/lms/actions.org" "Work")
	   "*** TODO %?\n  %i\n")
	  ("a" "agenda" entry (file+headline "~/lms/cal.org" "Calendar")
	   "** TODO %?\n  %i\n")
	  ("j" "journal entry" entry (file+headline "~/lms/journal.org" "Journal")
	   "\n* %(shell-command-to-string \"date '+%d-%m-%Y'\") %i %?")))

  ;; Agenda
  (setq org-agenda-files '("~/lms/cal.org"))

#+end_src

* Writing
#+begin_src emacs-lisp
(setq org-hide-emphasis-markers t)

;; spellcheck
(add-hook 'text-mode-hook 'flyspell-mode)

;; toc-org
(if (require 'toc-org nil t)
    (progn
      (add-hook 'org-mode-hook 'toc-org-mode)))

(with-eval-after-load "org-tree-slide"
  (define-key org-tree-slide-mode-map (kbd "<f9>") 'org-tree-slide-move-previous-tree)
  (define-key org-tree-slide-mode-map (kbd "<f10>") 'org-tree-slide-move-next-tree)
  )

(setq org-latex-listings 'minted
      org-latex-packages-alist '(("" "minted"))
      org-latex-pdf-process
      '("pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"
        "pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"))

(setq org-src-fontify-natively t)

#+end_src

* Programming
#+begin_src emacs-lisp
;; formatting

;; code blocks
(setq org-confirm-babel-evaluate nil)
(setq org-edit-src-content-indentation 0)
(org-babel-do-load-languages
 'org-babel-load-languages
 '((python . t) (shell . t) (C . t) (js . t)))
;; general hooks
(add-hook 'prog-mode-hook 'display-line-numbers-mode)
(add-hook 'prog-mode-hook 'flyspell-prog-mode)
#+end_src

* Custom Functions
#+begin_src elisp
(defun config-reload ()
      (interactive)
      (org-babel-load-file (expand-file-name "~/.config/emacs/config.org"))
      ) 
#+end_src

* Global Keybindings
#+begin_src emacs-lisp
(global-set-key (kbd "C-c c") 'org-capture)
(global-set-key (kbd "C-c t") 'ansi-term)
(global-set-key (kbd "C-c r") 'config-reload)
(global-set-key (kbd "M-<f2>") 'modus-themes-toggle) ; toggle light and dark modus themes
(global-set-key (kbd "C-z") 'replace-string)
(global-set-key (kbd "C-x g") 'magit-status)
(global-set-key (kbd "<f8>") 'org-tree-slide-mode)

#+end_src
